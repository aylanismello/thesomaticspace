---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import "../styles/global.css";
import { testimonials, sessionTypes } from "../content/data.js";
---

<BaseLayout>
  <!-- Hero Section -->
  <section id="hero" class="hero snap-section">
    <!-- Background Image -->
    <div class="hero-background">
      <img
        src="https://images.unsplash.com/photo-1517495306984-f84210f9daa8?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt=""
      />
    </div>

    <!-- Unified Navigation -->
    <Header currentPath="/" />

    <!-- Hero Content -->
    <div class="hero-content">

      <p class="hero-eyebrow">ONE-ON-ONE SOMATIC WORK</p>

      <h1 class="hero-title">
        Matter Over Mind
      </h1>

      <div class="hero-line"></div>

      <p class="hero-description">
        Sessions are slow, contained, and experiential — working directly with sensation, pacing, and co-regulation to support the body's innate capacity to heal and integrate.
      </p>

      <a href="/sessions#inquire" class="hero-cta-link">
        Inquire about sessions
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </div>

    <!-- Scroll Indicator -->
    <div class="hero-scroll">
      <a href="#about">
        <span>LEARN MORE</span>
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
        </svg>
      </a>
    </div>
  </section>

  <!-- About Section (First after hero) -->
  <section id="about" class="section snap-section about-section">
    <!-- Background Image -->
    <div class="about-background">
      <img
        src="https://images.unsplash.com/photo-1511207538754-e8555f2bc187?q=80&w=927&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt=""
      />
    </div>

    <div class="about-container">
      <div class="about-image">
        <img src="/aylan_tree.jpg" alt="Francesco Mello" />
      </div>

      <div class="about-content">
        <p>I'm Francesco Mello, a practitioner offering <span class="text-accent-light">somatic work</span> focused on nervous system regulation and integration.</p>
        <p>In a world tangled in chronic overthinking, this work invites you to return to sensation and to Self, the heart-belly place of deep knowing.</p>
        <p>I guide individuals through the gentle unwinding of patterns held in the autonomic nervous system. Because overwhelm isn't what happens to us, but what happens inside of us as a result, this work tends directly to the residue—the protective patterns that once kept us safe but now shroud our aliveness.</p>
        <p>Through integrative, body-led sessions, we begin to learn the language of your nervous system. We create space for what was once held in tension to move, soften, and release.</p>
        <p>In the space that emerges, we reconnect with your aliveness and a deeper sense of self—the core of you that lives beneath the imprint of survival.</p>

        <div class="section-cta">
          <a href="/about" class="section-button">About</a>
        </div>
      </div>
    </div>
  </section>


  <!-- Sessions Section -->
  <section id="sessions" class="section snap-section sessions-section">
    <!-- Background Image -->
    <div class="sessions-background">
      <img
        src="https://images.unsplash.com/photo-1517495306984-f84210f9daa8?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt=""
      />
    </div>

    <div class="container">
      <div class="content-large">
        <h2 class="mb-16 text-white">Sessions</h2>

        <div class="grid-2">
          {sessionTypes.map((sessionType) => (
            <div class="card-dark space-y-3 py-8 px-10">
              <h3 class="font-serif text-white">
                {sessionType.name}
              </h3>
              <p class="text-light">
                {sessionType.description}
              </p>
            </div>
          ))}
        </div>

        <div class="section-cta">
          <a href="/sessions" class="section-button">Sessions</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="section snap-section testimonials-section">
    <!-- Background Image -->
    <div class="testimonials-background">
      <img
        src="https://images.unsplash.com/photo-1517495306984-f84210f9daa8?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt=""
      />
    </div>

    <div class="container">
      <div class="content-center">
        <h2 class="mb-14 text-white">Words from clients</h2>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

        <div class="testimonial-container">
          <button class="testimonial-nav-btn prev-btn" aria-label="Previous testimonial">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M15 18l-6-6 6-6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <div class="swiper testimonial-swiper">
            <div class="swiper-wrapper">
              {testimonials.map((testimonial) => (
                <div class="swiper-slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p class="testimonial-quote">"{testimonial.quote}"</p>
                      <p class="testimonial-author">— {testimonial.author}</p>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <button class="testimonial-nav-btn next-btn" aria-label="Next testimonial">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M9 18l6-6-6-6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <div class="swiper-pagination testimonial-pagination"></div>
      </div>
    </div>
  </section>

  <script is:inline src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Footer -->
  <footer class="py-14 bg-cream">
    <div class="container">
      <div class="footer-content">
        <p class="font-serif">© The Somatic Space — Francesco Mello</p>
        <p class="italic font-serif">
          This work is not psychotherapy or medical treatment.
        </p>
      </div>
    </div>
  </footer>
</BaseLayout>

<style>
  /* Hero Section */
  .hero {
    position: relative;
  }

  .hero-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .hero-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.5) 100%);
    z-index: 1;
  }

  .hero-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-content {
    position: absolute;
    z-index: 10;
    width: 100%;
    max-width: 48rem;
    padding: 2rem;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
  }

  @media (min-width: 768px) {
    .hero-content {
      padding-left: 8rem;
      padding-right: 4rem;
      padding-top: 12rem;
    }
  }

  @media (min-width: 1024px) {
    .hero-content {
      padding-left: 10rem;
      padding-top: 14rem;
    }
  }

  

  .hero-eyebrow {
    color: white;
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    letter-spacing: 0.25em;
    text-transform: uppercase;
    font-weight: 300;
    opacity: 0.95;
    margin-bottom: 2rem;
    text-align: left;
  }

  .hero-title {
    color: white;
    font-size: clamp(2.25rem, 6vw, 4rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.1;
    margin-bottom: 2.5rem;
    text-align: left;
  }

  .hero-line {
    width: 8rem;
    height: 2px;
    background: white;
    margin-bottom: 2.5rem;
  }

  .hero-description {
    color: white;
    font-size: clamp(1.125rem, 2vw, 1.25rem);
    font-weight: 300;
    line-height: 1.65;
    max-width: 40rem;
    opacity: 0.95;
    margin-bottom: 3rem;
    text-align: left;
  }

  .hero-cta-link {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    color: white;
    font-size: 1rem;
    font-weight: 400;
    transition: opacity 0.2s ease;
    text-align: left;
    margin-top: 1rem;
  }

  .hero-cta-link:hover {
    opacity: 0.7;
  }

  .hero-cta-link svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  .hero-scroll {
    position: absolute;
    bottom: 3rem;
    right: 3rem;
    z-index: 20;
  }

  .hero-scroll a {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    color: white;
  }

  .hero-scroll span {
    font-size: 0.75rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    font-weight: 300;
  }

  .hero-scroll svg {
    width: 1.5rem;
    height: 1.5rem;
    opacity: 0.8;
    animation: bounce 1s infinite;
  }

  @keyframes bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(0.5rem);
    }
  }

  /* Common utility classes */
  .section {
    padding-top: var(--spacing-section-mobile);
    padding-bottom: var(--spacing-section-mobile);
  }

  @media (min-width: 768px) {
    .section {
      padding-top: var(--spacing-section);
      padding-bottom: var(--spacing-section);
    }
  }

  .container {
    max-width: 72rem;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  @media (min-width: 768px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Layout utilities */
  .content-center {
    max-width: 48rem;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
  }

  .content-medium {
    max-width: 56rem;
    margin-left: auto;
    margin-right: auto;
  }

  .content-large {
    max-width: 64rem;
    margin-left: auto;
    margin-right: auto;
  }

  /* Text utilities */
  .text-secondary {
    color: var(--color-text-secondary);
  }

  .text-large {
    font-size: 1.125rem;
  }

  /* Spacing utilities */
  .space-y-3 > * + * {
    margin-top: 0.75rem;
  }

  .space-y-4 > * + * {
    margin-top: 1rem;
  }

  .space-y-6 > * + * {
    margin-top: 1.5rem;
  }

  .space-y-8 > * + * {
    margin-top: 2rem;
  }

  .space-y-10 > * + * {
    margin-top: 2.5rem;
  }

  .mb-8 {
    margin-bottom: 2rem;
  }

  .mb-10 {
    margin-bottom: 2.5rem;
  }

  .mb-12 {
    margin-bottom: 3rem;
  }

  .mb-14 {
    margin-bottom: 3.5rem;
  }

  .mb-16 {
    margin-bottom: 4rem;
  }

  .mt-10 {
    margin-top: 2.5rem;
  }

  .mt-12 {
    margin-top: 3rem;
  }

  .pt-6 {
    padding-top: 1.5rem;
  }

  .py-8 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  .py-10 {
    padding-top: 2.5rem;
    padding-bottom: 2.5rem;
  }

  .py-14 {
    padding-top: 3.5rem;
    padding-bottom: 3.5rem;
  }

  .px-10 {
    padding-left: 2.5rem;
    padding-right: 2.5rem;
  }

  .px-12 {
    padding-left: 3rem;
    padding-right: 3rem;
  }

  /* Grid */
  .grid-2 {
    display: grid;
    gap: 2.5rem;
  }

  @media (min-width: 768px) {
    .grid-2 {
      grid-template-columns: repeat(2, 1fr);
      gap: 3.5rem;
    }
  }

  /* Card */
  .card {
    border: 1px solid var(--color-accent-light);
    text-align: center;
  }

  /* Footer */
  footer {
    border-top: 1px solid var(--color-accent-light);
  }

  footer .footer-content {
    text-align: center;
  }

  footer .footer-content > * + * {
    margin-top: 0.75rem;
  }

  footer .footer-content {
    font-size: 0.875rem;
    color: var(--color-text-secondary);
  }

  /* Form */
  form.inquiry-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  form.inquiry-form label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: white;
  }

  .inquire-section input,
  .inquire-section textarea,
  .inquire-section select {
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(255, 255, 255, 0.3);
  }

  .inquire-section input:focus,
  .inquire-section textarea:focus,
  .inquire-section select:focus {
    background: white;
    border-color: white;
  }

  .button {
    width: 100%;
    background: white;
    color: var(--color-text-primary);
    border: 2px solid white;
    font-weight: 600;
    padding: 1rem 2rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .button:hover {
    background: transparent;
    color: white;
  }

  @media (min-width: 640px) {
    .button {
      width: auto;
    }
  }

  /* Section CTA Buttons */
  .section-cta {
    margin-top: 2.5rem;
    text-align: center;
  }

  .section-button {
    display: inline-block;
    background: white;
    color: var(--color-text-primary);
    border: 2px solid white;
    font-weight: 600;
    padding: 1rem 2.5rem;
    font-size: 1rem;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .section-button:hover {
    background: transparent;
    color: white;
  }

  .section-button-light {
    background: transparent;
    color: white;
  }

  .section-button-light:hover {
    background: white;
    color: var(--color-text-primary);
  }

  /* Background colors */
  .bg-white {
    background-color: var(--bg-light);
  }

  .bg-cream {
    background-color: var(--bg-cream);
  }

  .bg-warm {
    background-color: var(--bg-warm);
  }

  .bg-sand {
    background-color: var(--bg-sand);
  }

  /* Text alignment */
  .text-center {
    text-align: center;
  }

  /* Typography helpers */
  .font-serif {
    font-family: var(--font-family-serif);
  }

  .italic {
    font-style: italic;
  }

  .hidden {
    display: none;
  }


  .mb-4 {
    margin-bottom: 1rem;
  }

  .leading-relaxed {
    line-height: 1.65;
  }

  /* About Section with Background */
  .about-section {
    position: relative;
  }

  .about-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .about-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .about-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .about-container {
    position: relative;
    z-index: 10;
    max-width: 1200px;
    margin: 0 auto;
    padding: 3rem 2rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }

  @media (min-width: 1024px) {
    .about-container {
      flex-direction: row;
      gap: 5rem;
      align-items: flex-start;
      padding: 4rem 3rem;
    }
  }

  .about-image {
    flex-shrink: 0;
  }

  .about-image img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 0.5rem;
  }

  @media (min-width: 1024px) {
    .about-image {
      width: 350px;
    }
  }

  .about-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .about-content p {
    font-size: clamp(1rem, 2vw, 1.125rem);
    line-height: 1.7;
    color: white;
    text-align: left;
    max-width: 100%;
    margin: 0;
  }

  /* Sessions Section with Background */
  .sessions-section {
    position: relative;
  }

  .sessions-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .sessions-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .sessions-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .sessions-section .container {
    position: relative;
    z-index: 10;
  }

  .card-dark {
    border: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    text-align: center;
  }

  .text-light {
    color: rgba(255, 255, 255, 0.9);
  }

  /* Testimonials Section with Background */
  .testimonials-section {
    position: relative;
  }

  .testimonials-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .testimonials-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .testimonials-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .testimonials-section .container {
    position: relative;
    z-index: 10;
  }

  /* Training Section with Background */
  .training-section {
    position: relative;
  }

  .training-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .training-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .training-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .training-section .container {
    position: relative;
    z-index: 10;
  }

  /* Inquire Section with Background */
  .inquire-section {
    position: relative;
  }

  .inquire-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .inquire-background::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .inquire-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .inquire-section .container {
    position: relative;
    z-index: 10;
  }

  .text-accent {
    color: #d4524d;
    font-weight: 500;
  }

  .text-accent-light {
    color: #fca5a5;
    font-weight: 500;
  }

  .text-white {
    color: white;
  }

  /* Scroll Snap Sections */
  .snap-section {
    min-height: 100vh;
    scroll-snap-align: start;
    scroll-snap-stop: always;
    display: flex;
    align-items: center;
  }

  .snap-section > .container {
    width: 100%;
  }

  /* Testimonial Section */
  .testimonial-container {
    max-width: 1100px;
    margin: 0 auto 3rem;
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .testimonial-swiper {
    flex: 1;
    position: relative;
  }

  .testimonial-card {
    padding: 3.5rem 3rem;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border-radius: 0.5rem;
    min-height: 280px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .testimonial-content {
    text-align: center;
  }

  .testimonial-quote {
    font-size: 1.125rem;
    line-height: 1.8;
    color: white;
    margin-bottom: 2rem;
    font-style: italic;
  }

  .testimonial-author {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 500;
  }

  .testimonial-nav-btn {
    flex-shrink: 0;
    width: 3.5rem;
    height: 3.5rem;
    border: none;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .testimonial-nav-btn svg {
    width: 28px;
    height: 28px;
    stroke-width: 2;
  }

  .testimonial-nav-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    transform: scale(1.08);
  }

  .testimonial-pagination {
    text-align: center;
  }

  .testimonial-pagination .swiper-pagination-bullet {
    width: 0.625rem;
    height: 0.625rem;
    background: rgba(255, 255, 255, 0.4);
    opacity: 1;
    transition: all 0.3s ease;
    margin: 0 0.35rem;
  }

  .testimonial-pagination .swiper-pagination-bullet-active {
    background: white;
    transform: scaleX(2);
    border-radius: 0.5rem;
  }

  @media (max-width: 768px) {
    .testimonial-container {
      gap: 1rem;
    }

    .testimonial-card {
      padding: 2.5rem 2rem;
      min-height: 240px;
    }

    .testimonial-nav-btn {
      width: 3rem;
      height: 3rem;
    }

    .testimonial-nav-btn svg {
      width: 24px;
      height: 24px;
    }

    .testimonial-quote {
      font-size: 1rem;
    }
  }

  @media (max-width: 640px) {
    .testimonial-nav-btn {
      display: none;
    }

    .testimonial-card {
      padding: 2rem 1.5rem;
    }

    .testimonial-container {
      margin-bottom: 2rem;
    }
  }
</style>

<script>
  // Initialize Swiper for testimonials
  window.addEventListener('load', () => {
    const swiper = new Swiper('.testimonial-swiper', {
      loop: true,
      autoplay: {
        delay: 7000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.testimonial-pagination',
        clickable: true,
      },
      speed: 600,
      slidesPerView: 1,
    });

    // Connect custom navigation buttons
    document.querySelectorAll('.prev-btn').forEach(btn => {
      btn.addEventListener('click', () => swiper.slidePrev());
    });

    document.querySelectorAll('.next-btn').forEach(btn => {
      btn.addEventListener('click', () => swiper.slideNext());
    });
  });
</script>
